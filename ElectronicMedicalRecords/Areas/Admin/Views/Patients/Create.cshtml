@model ElectronicMedicalRecords.Models.MultiplesModel
@{
    ViewBag.Title = "Create";
}
<style>
    .bootstrap-tagsinput {
        width: 100%;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        color: #607080;
        background-color: #fff;
        background-clip: padding-box;
        border: 1px solid #dce7f1;
        -webkit-appearance: none;
        -moz-appearance: none;
        border-radius: 0.25rem;
        transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        box-shadow: unset
    }
    .bootstrap-tagsinput .label-info {
        background-color: #435ebe;
        border-radius: 4px;
        padding: 4px
    }
    tr{
        display:flex;
        justify-content: space-around;
    }
    .table-bordered th{
        border-width: 0px
    }
    .table-bordered tr:first-child {
        background-color: #435ebe;
        color: #fff;
        padding: 5px 0;
        text-align: center
    }
    .table-bordered tr:nth-child(2) td {
        border-width: 1px;
    }
    .table-bordered td {
        width: 100%;
        border-width: 1px
    }
</style>
@*@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Patient</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Gender_ID, "Gender_ID", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("Gender_ID", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Gender_ID, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.BirthDate, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.BirthDate, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.BirthDate, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Religion_ID, "Religion_ID", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("Religion_ID", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Religion_ID, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Address, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Address, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.HomeTown_ID, "HomeTown_ID", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("HomeTown_ID", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.HomeTown_ID, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Nation_ID, "Nation_ID", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("Nation_ID", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Nation_ID, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Phone, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Phone, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Phone, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.InsuranceCode, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.InsuranceCode, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.InsuranceCode, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.MedicalHistory, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.MedicalHistory, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.MedicalHistory, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.HistoryDisease, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.HistoryDisease, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.HistoryDisease, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>*@


<header class="mb-3">
    <a href="#" class="burger-btn d-block d-xl-none">
        <i class="bi bi-justify fs-3"></i>
    </a>
</header>

<div class="col-md-12">
    <div class="card">
        <div class="card-body">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <a class="nav-link active" id="home-tab" data-bs-toggle="tab" href="@Url.Action("Index","Medications")#home"
                       role="tab" aria-controls="home" aria-selected="true">Hồ Sơ</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="profile-tab" data-bs-toggle="tab" href="#profile"
                       role="tab" aria-controls="profile" aria-selected="false">Cận Lân Sàng</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="contact-tab" data-bs-toggle="tab" href="#contact"
                       role="tab" aria-controls="contact" aria-selected="false">Lâm Sàng</a>
                </li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="home" role="tabpanel"
                     aria-labelledby="home-tab">
                    <p class='my-2'>
                        <section id="multiple-column-form">
                            <div class="row match-height">
                                <div class="col-12">
                                    <div class="card">
                                        <div class="card-header" style="padding-bottom:0px">
                                            <h4 class="card-title">Thông Tin Hành Chính</h4>
                                            <hr />
                                        </div>
                                        <div class="card-content">
                                            <div class="card-body">
                                                @using (Html.BeginForm())
                                                {
                                                    @Html.AntiForgeryToken()
                                                <div class="row">
                                                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                                    <div class="col-md-3 col-12">
                                                        <div class="form-group">
                                                            <label for="first-name-column">Họ Và Tên</label>
                                                            @Html.EditorFor(model => model.Patient.Name, new { htmlAttributes = new { @class = "form-control", @placeholder = "Họ Và Tên" } })
                                                            @Html.ValidationMessageFor(model => model.Patient.Name, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 col-12">
                                                        <div class="form-group">
                                                            <label for="last-name-column">Giới Tính</label>
                                                            <div class="position-relative ml-5px">
                                                                @Html.DropDownList("Patient.Gender_ID", null, htmlAttributes: new { @class = "form-select" })
                                                                @Html.ValidationMessageFor(model => model.Patient.Gender_ID, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 col-12">
                                                        <div class="form-group">
                                                            <label for="city-column">Ngày Sinh</label>
                                                            <input class="form-control" type="date" name="Patient.BirthDate" id="birthdate" required />
                                                            @Html.ValidationMessageFor(model => model.Patient.BirthDate, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 col-12">
                                                        <div class="form-group">
                                                            <label for="country-floating">Dân Tộc</label>
                                                            @Html.DropDownList("Patient.Nation1_ID", null, htmlAttributes: new { @class = "form-select" })
                                                            @Html.ValidationMessageFor(model => model.Patient.Nation1_ID, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12 col-12">
                                                        <div class="form-group">
                                                            <label for="company-column">Địa Chỉ</label>
                                                            @Html.EditorFor(model => model.Patient.Address, new { htmlAttributes = new { @class = "form-control", @placeholder = "Địa Chỉ" } })
                                                            @Html.ValidationMessageFor(model => model.Patient.Address, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Quê Quán</label>
                                                            @Html.DropDownList("Patient.HomeTown_ID", null, htmlAttributes: new { @class = "form-select", @name = "Long" })
                                                            @*<select name="Patient.HomeTown_ID">
                    @for(int i = 0; i < ViewBag.HomeTown_ID.length; i++)
                    {
                        <option value="@i">aa</option>
                    }
                </select>*@
                                                            @Html.ValidationMessageFor(model => model.Patient.HomeTown_ID, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Quốc Gia</label>
                                                            @Html.DropDownList("Patient.Nation_ID", null, htmlAttributes: new { @class = "form-select" })
                                                            @Html.ValidationMessageFor(model => model.Patient.Nation_ID, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Điện Thoại</label>
                                                            @Html.EditorFor(model => model.Patient.Phone, new { htmlAttributes = new { @class = "form-control" } })
                                                            @Html.ValidationMessageFor(model => model.Patient.Phone, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Số BHYT</label>
                                                            @Html.EditorFor(model => model.Patient.InsuranceCode, new { htmlAttributes = new { @class = "form-control" } })
                                                            @Html.ValidationMessageFor(model => model.Patient.InsuranceCode, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="card-header" style="padding-bottom:0px">
                                                        <h4 class="card-title">Thông Tin Bệnh Án</h4>
                                                        <hr />
                                                    </div>
                                                    <div class="col-md-12 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Tiền Sử</label>
                                                            <input type="text" data-role="tagsinput" name="Patient.MedicalHistory" class="form-control">
                                                            @*@Html.TextBoxFor(model => model.Patient.MedicalHistory, new { htmlAttributes = new { @class = "form-control" } })*@
                                                            @Html.ValidationMessageFor(model => model.Patient.MedicalHistory, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Bệnh Sử</label>
                                                            <input type="text" data-role="tagsinput" name="Patient.HistoryDisease" class="form-control">
                                                            @*@Html.EditorFor(model => model.Patient.HistoryDisease, new { htmlAttributes = new { @class = "form-control" } })*@
                                                            @Html.ValidationMessageFor(model => model.Patient.HistoryDisease, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="card-header" style="padding-bottom:0px">
                                                        <h4 class="card-title">Thông Tin Khám bệnh</h4>
                                                        <hr />
                                                    </div>
                                                    <div class="col-md-4 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Ngày Đến</label>
                                                            <input name="InformationExamination.DateExamine" type="date" value="@ViewBag.DateExamination" class="form-control" readonly />
                                                            @Html.ValidationMessageFor(model => model.InformationExamination.DateExamine, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Ngày Đi</label>
                                                            <input name="InformationExamination.DateEnd" type="date" class="form-control" />
                                                            @*@Html.EditorFor(model => model.InformationExamination.DateEnd, new { htmlAttributes = new { @class = "form-control" } })*@
                                                            @Html.ValidationMessageFor(model => model.InformationExamination.DateEnd, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Bác Sĩ</label>
                                                            @Html.HiddenFor(model => model.InformationExamination.User_ID, new { htmlAttributes = new { @class = "form-control", @Value = ViewBag.UserByID } })
                                                            <input value="@ViewBag.UserName" class="form-control" readonly />
                                                            @Html.ValidationMessageFor(model => model.InformationExamination.User_ID, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Nhịp Tim</label>
                                                            @Html.EditorFor(model => model.InformationExamination.HeartBeat, new { htmlAttributes = new { @class = "form-control" } })
                                                            @Html.ValidationMessageFor(model => model.InformationExamination.HeartBeat, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Nhịp Thở</label>
                                                            @Html.EditorFor(model => model.InformationExamination.Breathing, new { htmlAttributes = new { @class = "form-control" } })
                                                            @Html.ValidationMessageFor(model => model.InformationExamination.Breathing, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Huyết Áp</label>
                                                            @Html.EditorFor(model => model.InformationExamination.BloodPressure, new { htmlAttributes = new { @class = "form-control" } })
                                                            @Html.ValidationMessageFor(model => model.InformationExamination.BloodPressure, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Cân Nặng</label>
                                                            @Html.EditorFor(model => model.InformationExamination.Weight, new { htmlAttributes = new { @class = "form-control" } })
                                                            @Html.ValidationMessageFor(model => model.InformationExamination.Weight, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Chiều Cao</label>
                                                            @Html.EditorFor(model => model.InformationExamination.Height, new { htmlAttributes = new { @class = "form-control" } })
                                                            @Html.ValidationMessageFor(model => model.InformationExamination.Height, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4 col-12">
                                                        <div class="form-group">
                                                            <label for="email-id-column">Tình Trạng</label>
                                                            @Html.DropDownList("InformationExamination.PatientStatus_ID", null, htmlAttributes: new { @class = "form-select" })
                                                            @Html.ValidationMessageFor(model => model.InformationExamination.PatientStatus_ID, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="card-header" style="padding-bottom:0px">
                                                        <h4 class="card-title">Thông Tin Xét Nghiệm</h4>
                                                        <hr />
                                                    </div>
                                                    <div class="col-md-12">
                                                        <button type="button" class="btn btn-primary" onclick="insRow()">Tạo</button>
                                                        @*<table style="width:100%" id="TableTest" class="table-bordered">
                                                            <tr>
                                                                <th>Yêu cầu xét nghiệm</th>
                                                                <th>Kết quả xét nghiệm</th>
                                                                <th>Chức năng</th>
                                                            </tr>
                                                            <tr>
                                                                <td><input type='text' class='form-control' /></td>
                                                                <td><input type='text' class='form-control' /></td>
                                                                <td></td>
                                                            </tr>
                                                        </table>*@
                                                    <table id="TableTest" style="width:100%" border="1" class="table-bordered">
                                                        <tr>
                                                            <th>Yêu cầu xét nghiệm</th>
                                                            <th>Kết quả xét nghiệm</th>
                                                            <th>Chức năng</th>
                                                        </tr>
                                                        <tr>
                                                            <td><input type="text" id="latbox" class='form-control' /></td>
                                                            <td><input type="text" id="lngbox" class='form-control' /></td>
                                                            <td><input class="btn btn-primary" type="button" id="delPOIbutton" value="Delete" onclick="deleteRow(this)" /></td>
                                                        </tr>
                                                    </table>
                                                    </div>
                                                    
                                                    <div class="col-12 d-flex justify-content-end">
                                                        <button type="submit"
                                                                class="btn btn-primary me-1 mb-1">
                                                            Submit
                                                        </button>
                                                        <button type="reset"
                                                                class="btn btn-light-secondary me-1 mb-1">
                                                            Reset
                                                        </button>
                                                    </div>
                                                </div>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </p>
                </div>
                <div class="tab-pane fade" id="profile" role="tabpanel"
                     aria-labelledby="profile-tab">
                    Integer interdum diam eleifend metus lacinia, quis gravida eros mollis.
                    Fusce non sapien
                    sit amet magna dapibus
                    ultrices. Morbi tincidunt magna ex, eget faucibus sapien bibendum non. Duis
                    a mauris ex.
                    Ut finibus risus sed massa
                    mattis porta. Aliquam sagittis massa et purus efficitur ultricies. Integer
                    pretium dolor
                    at sapien laoreet ultricies.
                    Fusce congue et lorem id convallis. Nulla volutpat tellus nec molestie
                    finibus. In nec
                    odio tincidunt eros finibus
                    ullamcorper. Ut sodales, dui nec posuere finibus, nisl sem aliquam metus, eu
                    accumsan
                    lacus felis at odio. Sed lacus
                    quam, convallis quis condimentum ut, accumsan congue massa. Pellentesque et
                    quam vel
                    massa pretium ullamcorper vitae eu
                    tortor.
                </div>
                <div class="tab-pane fade" id="contact" role="tabpanel"
                     aria-labelledby="contact-tab">
                    <p class="mt-2">
                        Duis ultrices purus non eros fermentum hendrerit. Aenean
                        ornare interdum
                        viverra. Sed ut odio velit. Aenean eu diam
                        dictum nibh rhoncus mattis quis ac risus. Vivamus eu congue ipsum.
                        Maecenas id
                        sollicitudin ex. Cras in ex vestibulum,
                        posuere orci at, sollicitudin purus. Morbi mollis elementum enim, in
                        cursus sem
                        placerat ut.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
<script type="text/javascript">
    function deleteRow(row) {
        var i = row.parentNode.parentNode.rowIndex;
        if (document.getElementById("TableTest").rows.length === 2) {
            return false;
        }
        document.getElementById('TableTest').deleteRow(i);
    }

    function insRow() {
        var x = document.getElementById('TableTest');
        var new_row = x.rows[1].cloneNode(true);
        var inp0 = new_row.cells[0].getElementsByTagName('input')[0];
        inp0.value = '';
        var inp1 = new_row.cells[1].getElementsByTagName('input')[0];
        inp1.value = '';
        var inp2 = new_row.cells[2].getElementsByTagName('input')[0];
        inp2.vale = 'Delete';
        x.appendChild(new_row);
    }
</script>
}